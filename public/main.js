import{Δ as t,_ as e,a as n,b as r,c as a,d as i,e as o,f as s,g as l,ζ as u,h as p,i as c,j as d,r as h,A as v,k as f,l as m,w as y,u as g,m as b,n as w,o as k,p as C,q as I,s as L,t as x,v as R,x as P,y as S,z as O,B as E,C as D,D as $,E as j,F as N,G as B,H as U,I as z,J as _,K as T,L as A,M as F}from"./xtr-renderer-bd7237e4.js";function V(t,e){throw"[IVY ROUTER] "+t}var H=void 0,M="dataset",J="routerLinkUrl",X=/^\:([a-zA-Z_\$]\w*)$/i,Y=/^([^\/\*\+\s]+)$/i,q=/^\/?\#?/,G=/\;|\&/,K=/^([^\=]*)\=(.*)$/i,Z=/(\?|\#).+$/gi,Q=/^[^\/]*\/\/[^\/]*/,W=void 0,tt=function(){function s(){this.ΔΔpath="",this.pathList=[],this.ΔΔhashParam=null,this.ΔΔrouteId="",this.ΔΔpattern=""}return s.prototype.ΔDefault=function(e){switch(e){case"path":return"";case"pathList":return[];case"hashParam":return null;case"routeId":case"pattern":return""}return t},e([n(r),a("design:type",String)],s.prototype,"path",void 0),e([n(i(r)),a("design:type",Array)],s.prototype,"pathList",void 0),e([n(),a("design:type",Object)],s.prototype,"pathParams",void 0),e([n(),a("design:type",Object)],s.prototype,"params",void 0),e([n(r,1),a("design:type",Object)],s.prototype,"hashParam",void 0),e([n(r),a("design:type",String)],s.prototype,"routeId",void 0),e([n(r),a("design:type",String)],s.prototype,"pattern",void 0),s=e([o],s)}(),et=function(){function t(){this.parent=null,this.routeDefs={},this.routeTree={},this.initialized=!1,this.baseUrl="",this._currentRoute=new tt}return Object.defineProperty(t.prototype,"currentRoute",{get:function(){return this._currentRoute},enumerable:!0,configurable:!0}),t.prototype.add=function(t){for(var e in t)t.hasOwnProperty(e)&&this.addRoute(this.parseRoute(e),t[e])},t.prototype.remove=function(t){var e=this.parseRoute(t),n=this.routeDefs[e.routeId];if(n===H)return!1;for(var r=e.normalizedPath,a=[this.routeTree],i=this.routeTree,o=0;r.length>o;o++)o<r.length-1?(i=i[r[o]],a.push(i)):i[r[o]]=void 0;if(a.length>1)for(o=a.length-1;o>0&&s(i=a[o]);o--)a[o-1][r[o-1]]=H;return this.routeDefs[e.routeId]=H,n.controller!==H&&null!==n.controller&&n.controller.dispose&&(n.controller.dispose(),n.controller=H),!0;function s(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e]!==H)return!1;return!0}},t.prototype.addRoute=function(t,e){this.routeDefs[t.routeId]!==H&&V("Route cannot be defined twice: '"+t.pattern+"'",this.routeDefs[t.routeId]),this.routeDefs[t.routeId]=t;for(var n,r=t.normalizedPath,a=this.routeTree,i=r.length,o=0;i>o;o++)a[n=r[o]]===H?o===i-1?a[n]=t:a=a[n]={}:a[n].pattern!==H?V("Route cannot be defined twice: '"+t.pattern+"'",a[n]):a=a[n];"function"==typeof e?t.controller={load:e}:e.load!==H?t.controller=e:t.controllerFactory=e},t.prototype.parseRoute=function(t){var e=[],n=[],r="",a=!1,i=!1,o=!1,s={},l=!1,u=t.split("/"),p=u.length;if(0===p||""!==u[0])m("Invalid syntax: route pattern must start with '/'");else{var c=void 0,d=u[p-1],h=0;(h=d.indexOf("?"))>-1?(u[p-1]=d.slice(0,h),i=!0,"#"===(d=d.slice(h+1))?o=!0:""!==d&&m("Invalid syntax: route cannot end with '?"+d+"'")):(h=d.indexOf("#"))>-1&&(u[p-1]=d.slice(0,h),o=!0,""!==(d=d.slice(h+1))&&m("Invalid syntax: route cannot end with '#"+d+"'"));for(var v="",f=1;p>f;f++)(c=u[f]).match(X)?(a=!0,1===s[v=RegExp.$1]&&m("Duplicate variable name: '"+v+"'"),s[v]=1,n[f-1]=v,e[f-1]=" "):c.match(Y)?(n[f-1]="",e[f-1]=c):"*"===c||"+"===c?(l=!0,e[f-1]=c,a=!0,n[f-1]=c,f!==p-1&&m("Invalid route: '"+c+"' can only be used on last path element")):f===p-1&&""===c||m("Invalid path element: '"+c+"'");r="/"+e.join("/")+(i?"?":"")+(o?"#":"")}return{pattern:t,containsParams:i,containsHashParam:o,routeId:r,normalizedPath:e,pathVariables:a?n:null,isDefault:l};function m(e){V(e+"\nRoute: '"+t+"'")}},t.prototype.init=function(t,e,n,r){return s(this,void 0,void 0,(function(){function a(){"/"!==i.charAt(0)&&(i="/"+i)}var i,o,s,u=this;return l(this,(function(l){switch(l.label){case 0:return this.initialized?[2]:(this.initialized=!0,this.navState=t,this.baseUrl=n,this._win=e,r!==H?this.parent=r:W=this,i=e.location.href.replace(Q,""),"#"===n?(i=i.replace(q,""),a()):(o=n.length,i.slice(0,o)!==n?V("Url doesn't match baseUrl\nbaseUrl: "+n+"\nUrl: "+i):(i=i.slice(o),a())),s=this.navigate(i,2),null===this.parent&&(this._win.addEventListener("popstate",(function(t){t.state&&t.state.url!==H&&u.navigate(t.state.url,0)})),this._win.addEventListener("click",(function(t){!function(t,e){null!==(t=function t(e,n){if(e===H||null===e||"HTML"===e.tagName)return null;if(e[M]!==H&&e[M][n]!==H)return e;return t(e.parentElement,n)}(t,J))&&e.navigate(t[M][J])}(t.target,u)}))),[4,s]);case 1:return[2,l.sent()]}}))}))},t.prototype.navigate=function(t,e){return void 0===e&&(e=1),s(this,void 0,void 0,(function(){var n,r,a,i,o,s,u;return l(this,(function(l){switch(l.label){case 0:if(this._win||V("Router not initialized: navigation is not possible"),null===(n=this.getRoute(t)))return[2];if(""!==this._currentRoute.routeId&&(r=this.routeDefs[this._currentRoute.routeId].controller).canNavigateFrom!==H&&!r.canNavigateFrom(n,this.navState))return[2];a=this.routeDefs[n.routeId],l.label=1;case 1:return null===a||a.controller!==H?[3,6]:(i=void 0,a.controllerFactory.createController===H?[3,3]:[4,a.controllerFactory.createController(a,t)]);case 2:return i=l.sent(),[3,5];case 3:return[4,a.controllerFactory.retrieveRoute(a,t)];case 4:i=l.sent(),l.label=5;case 5:return null!==i&&"function"==typeof i.load?a.controller=i:(n=i,a=this.routeDefs[n.routeId]),[3,1];case 6:return a&&((o=a.controller).canNavigateTo===H||o.canNavigateTo(n,this.navState))?(r!==H&&r.unload!==H&&r.unload(n,this.navState),(s=this._currentRoute).hashParam=n.hashParam,s.params=n.params,s.path=n.path,s.pathList=n.pathList,s.pathParams=n.pathParams,s.pattern=n.pattern,s.routeId=n.routeId,[4,o.load(n,this.navState)]):[2];case 7:return l.sent(),0!==e&&(u="#"===this.baseUrl?"#"+n.path:n.path,1===e?this._win.history.pushState({url:n.path},"",u):this._win.history.replaceState({url:n.path},"",u)),[2]}}))}))},t.prototype.getRoute=function(t){for(var e,n=function(t,e){var n=!1,r=!1,a="",i="",o=t.split("/"),s=o.length,l={};if(0===s||""!==o[0])e("Invalid syntax: url must start with '/'");else{var u=o[s-1],p=0;if((p=u.indexOf("?"))>-1?(o[s-1]=u.slice(0,p),n=!0,i=u.slice(p+1)):i=u,""!==i&&(p=i.indexOf("#"))>-1&&(r=!0,a=i.slice(p+1),i=i.slice(0,p)),n)for(var c=i.split(G),d=0,h=c;d<h.length;d++){var v=h[d];v.match(K)?l[RegExp.$1]=RegExp.$2:(f="Invalid parameter: "+v,m.log("[IVY ROUTER] "+f))}}var f;o.length>1&&o.splice(0,1);return{path:o,containsParams:n,containsHashParam:r,hashParam:a,params:n?l:null}}(t,v),r=n.path,a=r.length,i=[],o=this.routeTree,s="*",l=[o],u=0;a>u;u++){if((e=o[r[u]])===H&&(""!==r[u]&&(e=o[" "])!==H&&(i.push(u),i.push(r[u])),e===H&&h(o["*"],o["+"],r[u])))return d(!0,u);if(e===H)return c();if(u===a-1){if(e.normalizedPath!==H)return d(!1,u);if(h(e["*"],e["+"],""))return d(!0,u+1);var p=c();if(null!==p)return p;v("Incomplete URL")}else e.normalizedPath===H?(o=e,l.push(o)):v("Unsupported URL")}return null;function c(){var t=function(){for(var t=l.length-1;t>-1;){if(l[t]["*"])return t;t--}return-1}();return t>-1?(e=l[t]["*"],d(!0,t)):null}function d(t,a,o){var l=e,u=null,p="/"+r.join("/");if(i.length>0&&null!==l.pathVariables){u={};for(var c=0;i.length>c;c+=2){var d=i[c];l.pathVariables[d]!==H&&(u[l.pathVariables[d]]=i[c+1])}}if(t){null===u&&(u={});var h=r.slice(a);u[s]=h.join("/").replace(Z,"")}return(null!==u||n.containsHashParam)&&(r[r.length-1]=r[r.length-1].replace(Z,"")),{path:p,pathList:r,pathParams:u,params:n.params,hashParam:n.containsHashParam?n.hashParam:null,routeId:l.routeId,pattern:l.pattern}}function h(t,n,r){return""===r?e=t:(e=n||t,s=n?"+":"*"),e!==H&&e.normalizedPath!==H}function v(e){V(e+"\nURL: '"+t+"'")}},t.prototype.deferLoad=function(t){var e=this;return{retrieveRoute:function(n,r){return s(e,void 0,void 0,(function(){var e;return l(this,(function(a){switch(a.label){case 0:return[4,t()];case 1:return e=a.sent(),this.remove(n.pattern),e.loadRoutes(this,n),[2,this.getRoute(r)]}}))}))}}},t.prototype.matchActive=function(t){if(null===this.currentRoute)return!1;for(var e=t.normalizedPath,n=e.length,r=this.currentRoute.pathList,a=r.length,i=0;n>i;i++){if(!(i<a))return"*"===e[i];if(e[i]!==r[i]){if(""===r[i]){if("*"===e[i])continue}else if(" "===e[i]||"*"===e[i]||"+"===e[i])continue;return!1}}return!0},t}();var nt=function(){function t(){this.ΔΔurl=""}return t.prototype.ΔDefault=function(t){switch(t){case"url":return""}return u},e([p,a("design:type",String)],t.prototype,"ΔΔurl",void 0),e([c(d),a("design:type",String)],t.prototype,"url",void 0),e([h,a("design:type",Object)],t.prototype,"ΔΔ$targetElt",void 0),e([c(),a("design:type",Object)],t.prototype,"$targetElt",void 0),t=e([v],t)}();function rt(t){return void 0===t&&(t=!1),f(nt,(function(e){var n,r=void 0,a={$render:function(){if(e.url!==n&&(e.$targetElt[M][J]=n=e.url),t&&W!==H){var i=e.$targetElt.classList;o=n,s=W.currentRoute.path,o===s||o.length<s.length&&s.slice(0,o.length)===o?i.add("active"):i.remove("active"),r===H&&(r=y(W.currentRoute,(function(){a.$render()})))}var o,s},$dispose:function(){r!==H&&g(a,r)}};return a}))}var at=rt(),it=rt(!0);var ot=function(){function t(){this.ΔΔpattern=""}return t.prototype.ΔDefault=function(t){switch(t){case"pattern":return""}return u},e([p,a("design:type",String)],t.prototype,"ΔΔpattern",void 0),e([c(d),a("design:type",String)],t.prototype,"pattern",void 0),e([h,a("design:type",Object)],t.prototype,"ΔΔ$targetElt",void 0),e([c(),a("design:type",Object)],t.prototype,"$targetElt",void 0),t=e([v],t)}(),st=(f(ot,(function(t){return{$render:function(){t.pattern}}})),function(){function r(){this.ΔΔhomePage=!1,this.ΔΔpageContent=""}return r.prototype.ΔDefault=function(e){switch(e){case"homePage":return!1;case"pageContent":return""}return t},e([n(b),a("design:type",Boolean)],r.prototype,"homePage",void 0),e([n(),a("design:type",Object)],r.prototype,"pageContent",void 0),r=e([o],r)}()),lt=new st,ut=new et;ut.add({"/*":{load:function(t,e){e.homePage=!0,e.pageContent="<div class='home layout'><div class='blockA'><div class='row1'/><div class='row2'><div class='mainA'><div class='mainLogo'><*ivyLogo className='ivyLogoMain'/><div> rethinking web development </></></><div class='mainB'><div class='features'><p> flexible </><p> reactive </><p> typescript-based </><p> efficient </><p> easy !! </></></></><div class='row3'><*infoBlock title='easy' className='variantA' proportions='2;1;9;0.5'> Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries </><*infoBlock title='typescript-based' className='variantB' proportions='1;4;7;2'> Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries </><*infoBlock title='template functions' className='variantC' proportions='1.4;2.5;8;0.2'> Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries </><*infoBlock title='advanced components' className='variantD' proportions='1.8;2.5;6;1'> Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries </><*infoBlock title='fully reactvie' className='variantB' proportions='1;2;7;.7'> Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries </></></><div class='blockB'><div class='row1'/><div class='row2'><div class='headline'><div><span class='highlight'> ivy is a set of libraries to build </><br/><span class='highlight'> advanced web interfaces </></><p class='details'> based on 3 pillars: a <b> JS template engine,</> a <b> state managmenent </> solution (aka. trax)\nand a flexible <b> template syntax </> (aka. XJS). </></></><div class='row3'><div class='sideblock'><h1> Compared to... </><p> Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries </></></></></>"},unload:function(t,e){e.homePage=!1}},"/examples/*":ut.deferLoad((function(){return import("./examples-631af59e.js")}))}),ut.init(lt,window,"#");var pt,ct,dt,ht,vt,ft,mt,yt,gt,bt,wt=(pt={},ct=["class","mainMenu"],dt=["class","container"],ht=["class","mainLogo"],vt=["class","menu"],ft=["class","primary"],mt=["class","ghLogo","width","20px","height","20px","viewBox","0 0 23 23"],yt=["class","logo","stroke","none","stroke-width","1","fill-rule","evenodd"],gt=["d","M11.9945425,0.455 C5.54802758,0.455 0.32,5.68231082 0.32,12.130976 C0.32,17.2894782 3.66510621,21.6652813 8.30467606,23.2091765 C8.88883324,23.3166901 9.10171015,22.9561612 9.10171015,22.646522 C9.10171015,22.3698537 9.09167555,21.6351775 9.08594149,20.6611044 C5.83831427,21.3663935 5.15309432,19.0957065 5.15309432,19.0957065 C4.62197717,17.7467693 3.8564804,17.3876739 3.8564804,17.3876739 C2.79639639,16.6637491 3.93675722,16.6780842 3.93675722,16.6780842 C5.10865537,16.7605113 5.72506662,17.8815197 5.72506662,17.8815197 C6.76651495,19.6655285 8.45806212,19.15018 9.12321287,18.8512923 C9.22929295,18.0972636 9.53104776,17.5826319 9.8643399,17.2909117 C7.27182883,16.9963244 4.5460009,15.9942978 4.5460009,11.5202988 C4.5460009,10.2459044 5.00114177,9.20302256 5.74800286,8.38735278 C5.62758763,8.09204878 5.22692032,6.90438198 5.86268402,5.29741216 C5.86268402,5.29741216 6.84249122,4.98347247 9.07303986,6.49439681 C10.0041076,6.23493068 11.0032672,6.10591437 11.995976,6.10089707 C12.9879681,6.10591437 13.986411,6.23493068 14.9189122,6.49439681 C17.1480273,4.98347247 18.126401,5.29741216 18.126401,5.29741216 C18.7635982,6.90438198 18.3629309,8.09204878 18.2432325,8.38735278 C18.9915271,9.20302256 19.4430841,10.2459044 19.4430841,11.5202988 C19.4430841,16.0057659 16.7129557,16.9927406 14.1125603,17.2815938 C14.5311465,17.6421227 14.9045771,18.3545795 14.9045771,19.4440505 C14.9045771,21.0044311 14.8902419,22.2637737 14.8902419,22.646522 C14.8902419,22.9590282 15.1009686,23.3224242 15.6930101,23.2084597 C20.3289961,21.6609808 23.6712353,17.2880446 23.6712353,12.130976 C23.6712353,5.68231082 18.4432077,0.455 11.9945425,0.455"],bt=function(){function t(){}return e([c(w(st)),a("design:type",st)],t.prototype,"navState",void 0),t=e([k],t)}(),C("navBar","doc/nav.ts",pt,(function(t,e,n){var r=n.navState,a=I(t,pt,18);L(t,a,0,0,"nav",1,0,ct),L(t,a,1,1,"div",1,0,dt),L(t,a,2,2,"span",1,0,ht),x(t,a,0,3,2,"link",at,1,"/"),R(t,a,0,4,3,P(t,0,N),0),S(t,a,0,4,"className",P(t,1,r.homePage?"ivyLogoDark":"ivyLogoLight")),O(t,4),E(t,a,0,3),L(t,a,5,2,"div",1,0,vt),L(t,a,6,3,"ul",1,0,ft),L(t,a,7,4,"li",1),x(t,a,0,8,7,"activeLink",it,1,"/examples"),D(t,a,0,9,5,0," examples ",0),E(t,a,0,8),L(t,a,10,4,"li",1),D(t,a,0,11,5,0," getting-started ",0),L(t,a,12,4,"li",1),D(t,a,0,13,5,0," api ",0),L(t,a,14,4,"li",1),$(t,0,"http://www.w3.org/2000/svg"),L(t,a,15,5,"svg",1,0,mt),L(t,a,16,6,"g",1,0,yt),L(t,a,17,7,"path",0,0,gt),$(t),j(t)}),bt));function kt(t){return s(this,void 0,void 0,(function(){return l(this,(function(e){return"ivyLogo"===t?[2,N]:"infoBlock"===t?[2,Ct]:"code"===t?[2,F]:(console.error("UNRESOLVED XTR REFERENCE: "+t),[2,null])}))}))}var Ct=function(){var t={},n=["class","title"],r=[" ",""," "],i=[1],o=[1,2],s=function(){function t(){this.ΔΔtitle="[title]",this.ΔΔclassName="variantA",this.ΔΔproportions="2;2;10;1"}return t.prototype.ΔDefault=function(t){switch(t){case"title":return"[title]";case"className":return"variantA";case"proportions":return"2;2;10;1"}return u},e([c(),a("design:type",Object)],t.prototype,"title",void 0),e([c(),a("design:type",Object)],t.prototype,"className",void 0),e([c(),a("design:type",Object)],t.prototype,"proportions",void 0),e([c(),a("design:type",Object)],t.prototype,"$content",void 0),t=e([k],t)}();return C("infoBlock","doc/main.ts",t,(function(e,a,s){var l,u,p,c,d,h,v=s.title,f=s.className,m=s.proportions,y=(s.$content,0),g=0,b=0,w=I(e,t,2),k=m.split(";");4!==k.length&&console.log("[*infoBlock] Invalid proportions value: "+m),L(e,w,0,0,"div",1),B(e,0,0,"class",P(e,0,"infoBlock "+f)),U(e,w,1,1,1);for(var C=0;4>C;C++)g=b=0,u=(l=z(e,0,1,3,++y)).cm,"0"!==k[C]&&(L(l,u,0,0,"div",1),B(l,0,0,"style",P(l,0,"flex:"+k[C])),B(l,0,0,"class",P(l,1,2==C?"content":"")),U(l,u,1,1,1),U(l,u,2,1,1),1===C?(c=(p=z(l,0,1,2,++g)).cm,L(p,c,0,0,"div",1,0,n),D(p,c,0,1,1,0,r,1,P(p,0,v)),j(p)):2===C&&(h=(d=z(l,0,2,1,++b)).cm,_(d,h,0,0),T(d,0,0,a,1),j(d)),j(l,u,o));j(e,w,i)}),s)}();(function(){var t={},n=["class","root"],r=["class","main"],i=["class","main"],o=[3,4],s=function(){function t(){}return e([c(w(st)),a("design:type",st)],t.prototype,"navState",void 0),t=e([k],t)}();return C("main","doc/main.ts",t,(function(e,a,s){var l,u,p,c,d=s.navState,h=0,v=0,f=I(e,t,5);_(e,f,0,0),R(e,f,0,1,1,P(e,0,wt),0),S(e,f,0,1,"navState",P(e,1,d)),O(e,1),L(e,f,2,1,"div",1,0,n),U(e,f,3,2,1),U(e,f,4,2,1),"string"==typeof d.pageContent?(u=(l=z(e,0,3,2,++h)).cm,L(l,u,0,0,"div",0,0,r),x(l,u,0,1,0,"xtrContent",A,2),S(l,u,0,1,"xtr",P(l,0,d.pageContent)),S(l,u,0,1,"resolver",P(l,1,kt)),E(l,u,0,1),j(l)):d.pageContent?(c=(p=z(e,0,4,2,++v)).cm,L(p,c,0,0,"div",1,0,i),R(p,c,0,1,1,P(p,0,d.pageContent),1),j(p)):console.warn("main template: invalid pageContent"),j(e,f,o)}),s)})()().attach(document.body).render({navState:lt});
